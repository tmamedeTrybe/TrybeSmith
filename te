









const getAllOrders = async () => {
  const result = await connection.execute('SELECT * FROM Trybesmith.Orders');
  const [rows] = result;
  const resultMap = await Promise.all(rows as []).map(async element => {
    const { id, userId } = element;
    const [dataProducts] = await connection.execute(
      'SELECT * FROM Trybesmith.Products WHERE orderId=?',
      [id]
    );
    const resultDataProducts = await Promise.all((dataProducts as []).map((async element => {
      const { id } = element;
      return id;
    })));

    let resultReturn: object;
    resultReturn = {
      id,
      userId,
      productsId: resultDataProducts,
    }

    return resultReturn;

  });
};